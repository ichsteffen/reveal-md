(function(e){function n(n){for(var a,o,s=n[0],l=n[1],d=n[2],u=0,h=[];u<s.length;u++)o=s[u],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&h.push(i[o][0]),i[o]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);c&&c(n);while(h.length)h.shift()();return r.push.apply(r,d||[]),t()}function t(){for(var e,n=0;n<r.length;n++){for(var t=r[n],a=!0,s=1;s<t.length;s++){var l=t[s];0!==i[l]&&(a=!1)}a&&(r.splice(n--,1),e=o(o.s=t[0]))}return e}var a={},i={app:0},r=[];function o(n){if(a[n])return a[n].exports;var t=a[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,o),t.l=!0,t.exports}o.m=e,o.c=a,o.d=function(e,n,t){o.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,n){if(1&n&&(e=o(e)),8&n)return e;if(4&n&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(o.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var a in e)o.d(t,a,function(n){return e[n]}.bind(null,a));return t},o.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(n,"a",n),n},o.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},o.p="/reveal-md/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=n,s=s.slice();for(var d=0;d<s.length;d++)n(s[d]);var c=l;r.push([0,"chunk-vendors"]),t()})({0:function(e,n,t){e.exports=t("cd49")},1:function(e,n){},"387e":function(e,n,t){e.exports=t.p+"img/github.b01932a3.svg"},"5c0b":function(e,n,t){"use strict";var a=t("9c0c"),i=t.n(a);i.a},"9c0c":function(e,n,t){},c3ba:function(e,n,t){"use strict";var a=t("dfb8"),i=t.n(a);i.a},cd49:function(e,n,t){"use strict";t.r(n);t("e260"),t("e6cf"),t("cca6"),t("a79d");var a=t("2b0e"),i=function(){var e=this,n=e.$createElement,a=e._self._c||n;return a("div",{staticClass:"h-100 w-100"},[a("div",{staticClass:"navbar"},[a("span",{staticClass:"mr-3"},[e._v("Press F to enter fullscreen")]),a("div",{staticClass:"ml-auto"},[a("b-button",{staticClass:"mr-3",attrs:{disabled:!e.dirTree,variant:"light"},on:{click:function(n){e.isChooseFile=!0}}},[e._v("Choose file")]),a("b-button",{staticClass:"mr-3",attrs:{variant:"light"},on:{click:function(n){e.showPreview=!e.showPreview}}},[e._v(e._s(e.showPreview?"Hide Preview":"Show Preview"))]),a("b-button",{staticClass:"mr-3",attrs:{variant:"light",disabled:!e.canSave},on:{click:e.saveMarkdown}},[e._v("Save")]),a("b-link",{attrs:{href:"https://github.com/patarapolw/reveal-md"}},[a("img",{attrs:{src:t("387e")}})])],1)]),a("div",{staticClass:"editor",class:e.showPreview?"w-50":"w-100"},[a("codemirror",{ref:"cm",staticClass:"codemirror",attrs:{options:e.cmOptions},on:{input:e.onCmCodeChange},model:{value:e.raw,callback:function(n){e.raw=n},expression:"raw"}})],1),a("iframe",{ref:"iframe",class:e.showPreview?"w-50":"hidden",attrs:{src:e.iframeUrl,frameborder:"0"}}),e.dirTree?a("b-modal",{attrs:{title:e.dirTree.path,scrollable:"",static:""},model:{value:e.isChooseFile,callback:function(n){e.isChooseFile=n},expression:"isChooseFile"}},[a("treeview",{attrs:{items:e.dirTree.children},on:{filename:function(n){e.filename=n}}})],1):e._e()],1)},r=[],o=(t("a623"),t("d81d"),t("d3b7"),t("ac1f"),t("3ca3"),t("5319"),t("1276"),t("2ca0"),t("ddb0"),t("2b3d"),t("96cf"),t("d4ec")),s=t("bee2"),l=t("99de"),d=t("7e84"),c=t("262e"),u=t("9ab4"),h=t("60a3"),m=t("85be"),p=t.n(m),f=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("ul",{staticClass:"treeview"},e._l(e.items,(function(n,a){return t("li",{key:a},[t("span",{staticClass:"treeview-header"},[n.children?t("span",{on:{click:function(n){return e.openItem(a)}}},[e.isOpen[a.toString()]?t("fontawesome",{attrs:{icon:"caret-down"}}):t("fontawesome",{attrs:{icon:"caret-right"}})],1):e._e()]),t("span",{staticClass:"treeview-body",class:"ext-"+n.extension,on:{click:function(t){return e.onItemClicked(n,a)}}},[e._v(e._s(n.name))]),n.children&&e.isOpen[a.toString()]?t("treeview",{attrs:{items:n.children},on:{filename:function(n){e.filename=n}}}):e._e()],1)})),0)},b=[],v=(t("0d03"),t("25f0"),function(e){function n(){var e;return Object(o["a"])(this,n),e=Object(l["a"])(this,Object(d["a"])(n).apply(this,arguments)),e.isOpen={},e.filename="",e}return Object(c["a"])(n,e),Object(s["a"])(n,[{key:"openItem",value:function(e){this.$set(this.isOpen,e.toString(),!this.isOpen[e.toString()])}},{key:"onItemClicked",value:function(e,n){"directory"===e.type?this.openItem(n):"md"===e.extension&&(this.filename=e.relativePath)}},{key:"emitFilename",value:function(){return this.filename}}]),n}(h["d"]));u["a"]([Object(h["c"])()],v.prototype,"items",void 0),u["a"]([Object(h["e"])("filename"),Object(h["b"])("filename")],v.prototype,"emitFilename",null),v=u["a"]([Object(h["a"])({name:"treeview"})],v);var w=v,g=w,y=(t("c3ba"),t("2877")),k=Object(y["a"])(g,f,b,!1,null,null,null),C=k.exports,O=function(e){function n(){var e;return Object(o["a"])(this,n),e=Object(l["a"])(this,Object(d["a"])(n).apply(this,arguments)),e.cmOptions={mode:{name:"yaml-frontmatter",base:"markdown"}},e.raw="",e.markdown="",e.line=0,e.offset=0,e.showPreview=!0,e.headers={},e.title="",e.isChooseFile=!1,e.filename="",e.dirTree=null,e.canSave=!1,e}return Object(c["a"])(n,e),Object(s["a"])(n,[{key:"onIFrameReady",value:function(e){var n=this,t=function(){n.iframeWindow.revealMd.onReady((function(){e()}))};this.iframe&&this.iframe.contentDocument&&(this.iframeWindow.revealMd?t():this.iframeWindow.onload=t)}},{key:"created",value:function(){var e,n;return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:if(e=new URL(location.href).searchParams.get("q"),!e){t.next=7;break}return t.next=4,regeneratorRuntime.awrap(fetch(e).then((function(e){return e.text()})));case 4:this.raw=t.sent,t.next=17;break;case 7:return t.prev=7,t.next=10,regeneratorRuntime.awrap(fetch("/api/").then((function(e){return e.json()})));case 10:n=t.sent,n.filename?this.openFile(n.filename):n.dirTree?(this.dirTree=n.dirTree,this.isChooseFile=!0):this.raw="---\n# Yaml front matter is allowed.\ntitle: reveal-md\ntheme: solarized  # try solarized, serif or white\n---\n// global\n```css\nh1, h2, h3, h4, h5, h6 {\n  text-transform: uppercase !important;\n}\n\np, li {\n  font-size: 2rem;\n}\n\ncode {\n  color: red;\n}\n```\n===\n\n# Reveal-MD\n\nReveal.js x Markdown (Showdown.js) editor and CLI.\n\n--\n\n- Customizable by editing [/src/reveal.ts](/src/reveal.ts), and add your Showdown / HyperPug plugins here. You might use <https://github.com/patarapolw/indented-filter> to create plugins.\n\n--\n\n- Global scripting `<script><\/script>` and styling `<style></style>` is also supported in slides marked with\n\n```markdown\n// global\ncontent (CSS, Pug, HTML or extended Markdown)\n```\n\n- The slides marked with `// global` or `// hidden` will be hidden.\n\n--\n\nHTML is also supported\n\n--\n```html\n<small>Small character</small>\n```\n\n===\n\n## Installation\n\n```\ngit init\ngit submodule add https://github.com/patarapolw/reveal-md.git\nnpm i ./reveal-md\n```\n\n--\n\nOr simply (but you won't be able to edit it.)\n\n```\nnpm i https://github.com/patarapolw/reveal-md.git\n```\n\n===\n\n## Usage\n\n```\nreveal-md [options] <filename>\n\nRead file in reveal-md\n\nPositionals:\n  filename  Path to the file to read\n\nOptions:\n  --version    Show version number                                     [boolean]\n  --edit, -e   Edit the file in editor                                 [boolean]\n  --media, -m  Path to media folder                                     [string]\n  --no-media   No media should be loaded                               [boolean]\n  --help       Show help                                               [boolean]\n```\n\n===\n\n## Adding media to reveal-md\n\nBy default, media can be put in the folder `media/` alongside the `*.md` file. The media can be referenced using the URL `/media/<FILENAME>`. Can be disabled using `--no-media` flag.\n\n===\n\n## Save as HTML (and associated assets folder)\n\nThis is best done by [downloading complete web page, in associated web browser](https://www.makeuseof.com/tag/save-complete-webpage-offline-reading/).\n\nUsing web crawlers, like <https://github.com/website-scraper/node-website-scraper> won't work, because some JavaScript in Reveal.js is dynamically injected.\n\n===\n\n## Online viewer\n\nYou can do it at <https://patarapolw.github.io/reveal-md/reveal.html?q=\\<YOUR_URL_HERE>>\n\n===\n\n## Duplicated projects\n\n- Sorry, I have created duplicates at \n  - <https://github.com/patarapolw/reveal-editor>\n  - <https://github.com/patarapolw/reveal-md-server>\n\n===\n\n## Contributions\n\n- Please send suggestions at <https://github.com/patarapolw/reveal-md/issues>\n",t.next=17;break;case 14:t.prev=14,t.t0=t["catch"](7),this.raw="---\n# Yaml front matter is allowed.\ntitle: reveal-md\ntheme: solarized  # try solarized, serif or white\n---\n// global\n```css\nh1, h2, h3, h4, h5, h6 {\n  text-transform: uppercase !important;\n}\n\np, li {\n  font-size: 2rem;\n}\n\ncode {\n  color: red;\n}\n```\n===\n\n# Reveal-MD\n\nReveal.js x Markdown (Showdown.js) editor and CLI.\n\n--\n\n- Customizable by editing [/src/reveal.ts](/src/reveal.ts), and add your Showdown / HyperPug plugins here. You might use <https://github.com/patarapolw/indented-filter> to create plugins.\n\n--\n\n- Global scripting `<script><\/script>` and styling `<style></style>` is also supported in slides marked with\n\n```markdown\n// global\ncontent (CSS, Pug, HTML or extended Markdown)\n```\n\n- The slides marked with `// global` or `// hidden` will be hidden.\n\n--\n\nHTML is also supported\n\n--\n```html\n<small>Small character</small>\n```\n\n===\n\n## Installation\n\n```\ngit init\ngit submodule add https://github.com/patarapolw/reveal-md.git\nnpm i ./reveal-md\n```\n\n--\n\nOr simply (but you won't be able to edit it.)\n\n```\nnpm i https://github.com/patarapolw/reveal-md.git\n```\n\n===\n\n## Usage\n\n```\nreveal-md [options] <filename>\n\nRead file in reveal-md\n\nPositionals:\n  filename  Path to the file to read\n\nOptions:\n  --version    Show version number                                     [boolean]\n  --edit, -e   Edit the file in editor                                 [boolean]\n  --media, -m  Path to media folder                                     [string]\n  --no-media   No media should be loaded                               [boolean]\n  --help       Show help                                               [boolean]\n```\n\n===\n\n## Adding media to reveal-md\n\nBy default, media can be put in the folder `media/` alongside the `*.md` file. The media can be referenced using the URL `/media/<FILENAME>`. Can be disabled using `--no-media` flag.\n\n===\n\n## Save as HTML (and associated assets folder)\n\nThis is best done by [downloading complete web page, in associated web browser](https://www.makeuseof.com/tag/save-complete-webpage-offline-reading/).\n\nUsing web crawlers, like <https://github.com/website-scraper/node-website-scraper> won't work, because some JavaScript in Reveal.js is dynamically injected.\n\n===\n\n## Online viewer\n\nYou can do it at <https://patarapolw.github.io/reveal-md/reveal.html?q=\\<YOUR_URL_HERE>>\n\n===\n\n## Duplicated projects\n\n- Sorry, I have created duplicates at \n  - <https://github.com/patarapolw/reveal-editor>\n  - <https://github.com/patarapolw/reveal-md-server>\n\n===\n\n## Contributions\n\n- Please send suggestions at <https://github.com/patarapolw/reveal-md/issues>\n";case 17:case"end":return t.stop()}}),null,this,[[7,14]])}},{key:"mounted",value:function(){var e=this;this.codemirror.addKeyMap({"Cmd-P":function(){e.showPreview=!e.showPreview},"Ctrl-P":function(){e.showPreview=!e.showPreview},"Cmd-S":function(){e.saveMarkdown()},"Ctrl-S":function(){e.saveMarkdown()}}),this.codemirror.on("cursorActivity",(function(n){e.line=n.getCursor().line-e.offset})),this.onCmCodeChange()}},{key:"openFile",value:function(e){var n=this;this.isChooseFile=!1,this.filename=e,document.getElementsByTagName("title")[0].innerText=e.split("/").pop();var t=new URL("/api/data",location.origin);t.searchParams.set("filename",e),fetch(t.href).then((function(e){return e.text()})).then((function(e){n.raw=e})).catch((function(e){return console.error(e)}))}},{key:"onCmCodeChange",value:function(){var e=this;try{var n=p()(this.raw);h["d"].set(this,"headers",n.data),this.markdown=n.content,this.offset=this.raw.replace(n.content,"").split("\n").length-1}catch(a){this.markdown=this.raw,this.offset=0}this.title=this.headers.title||"";var t=document.getElementsByTagName("title")[0];this.title&&t&&(t.innerText="Editing: ".concat(this.title)),this.filename&&this.raw&&(this.canSave=!0),this.onIFrameReady((function(){e.iframeWindow.revealMd.update(e.raw)}))}},{key:"onCursorMove",value:function(){var e=this;if(!(this.line<0)){var n=0,t=0,a=0,i=!1,r=0;this.markdown.split(/\n===\n/g).map((function(o,s){var l=o.split(/\n--\n/g),d=l.map((function(e){return e.startsWith("// hidden\n")||e.startsWith("// global\n")}));d.every((function(e){return e}))&&r++,a<=e.line&&(n=s-r,i=d.every((function(e){return e})));var c=0;l.map((function(n,r){d[r]&&c++,a<=e.line&&(t=r-c,i=d[r]),a+=n.split("\n").length+1}))})),!i&&n>=0&&this.iframeWindow.Reveal.slide(n,t)}}},{key:"saveMarkdown",value:function(){var e=this;this.filename&&fetch("/api/data",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({filename:this.filename,content:this.raw})}).then((function(n){201===n.status?e.canSave=!1:e.$bvModal.msgBoxOk("Cannot save: ".concat(n.statusText))}))}},{key:"codemirror",get:function(){return this.$refs.cm.codemirror}},{key:"iframe",get:function(){return this.$refs.iframe}},{key:"iframeWindow",get:function(){return this.iframe.contentWindow}},{key:"iframeUrl",get:function(){if(this.filename){var e=new URL("/reveal-md/reveal/",location.origin);return e.searchParams.set("filename",this.filename),e.href}return"/reveal-md/reveal/"}}]),n}(h["d"]);u["a"]([Object(h["e"])("filename")],O.prototype,"openFile",null),u["a"]([Object(h["e"])("line")],O.prototype,"onCursorMove",null),O=u["a"]([Object(h["a"])({components:{Treeview:C}})],O);var j=O,P=j,S=(t("5c0b"),Object(y["a"])(P,i,r,!1,null,null,null)),x=S.exports,T=t("5f5b");t("ab8b"),t("2dd8");a["default"].use(T["a"]);t("a15b");var M=t("8f94"),R=t.n(M);t("a7be"),t("959b"),t("ced0"),t("d202"),t("5bef"),t("7b00"),t("f9d4"),t("10b2"),t("7289"),t("4895"),t("cbc8"),t("aedd"),t("8d70"),t("164b"),t("9f09"),t("697e"),t("d2d5"),t("7a7a");a["default"].use(R.a,{options:{theme:"monokai",lineNumbers:!0,autoCloseBrackets:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"],lineWrapping:!0,tabSize:2,extraKeys:{"Cmd-/":"toggleComment","Ctrl-/":"toggleComment",Tab:function(e){var n=Array(e.getOption("indentUnit")+1).join(" ");e.getDoc().replaceSelection(n)}},foldGutter:!0,scrollPastEnd:!0}});var _=t("ecee"),F=t("c074"),L=t("ad3d");_["c"].add(F["a"],F["b"]),a["default"].component("fontawesome",L["a"]),a["default"].config.productionTip=!1,new a["default"]({render:function(e){return e(x)}}).$mount("#app")},dfb8:function(e,n,t){}});
//# sourceMappingURL=app.f816703d.js.map