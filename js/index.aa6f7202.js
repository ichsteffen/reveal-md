(function(e){function t(t){for(var i,o,s=t[0],l=t[1],d=t[2],h=0,m=[];h<s.length;h++)o=s[h],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&m.push(a[o][0]),a[o]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i]);c&&c(t);while(m.length)m.shift()();return r.push.apply(r,d||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],i=!0,s=1;s<n.length;s++){var l=n[s];0!==a[l]&&(i=!1)}i&&(r.splice(t--,1),e=o(o.s=n[0]))}return e}var i={},a={index:0},r=[];function o(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=i,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(n,i,function(t){return e[t]}.bind(null,i));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var d=0;d<s.length;d++)t(s[d]);var c=l;r.push([1,"chunk-vendors"]),n()})({0:function(e,t){},1:function(e,t,n){e.exports=n("cd49")},"387e":function(e,t,n){e.exports=n.p+"img/github.b01932a3.svg"},"5c0b":function(e,t,n){"use strict";var i=n("9c0c"),a=n.n(i);a.a},"9c0c":function(e,t,n){},c3ba:function(e,t,n){"use strict";var i=n("dfb8"),a=n.n(i);a.a},cd49:function(e,t,n){"use strict";n.r(t);var i=n("2b0e"),a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"h-100 w-100"},[i("div",{staticClass:"navbar"},[i("span",{staticClass:"mr-3"},[e._v("Press F to enter fullscreen")]),i("div",{staticClass:"ml-auto"},[i("b-button",{staticClass:"mr-3",attrs:{disabled:!e.dirTree,variant:"light"},on:{click:function(t){e.isChooseFile=!0}}},[e._v("Choose file")]),i("b-button",{staticClass:"mr-3",attrs:{variant:"light"},on:{click:function(t){e.showPreview=!e.showPreview}}},[e._v(e._s(e.showPreview?"Hide Preview":"Show Preview"))]),i("b-button",{staticClass:"mr-3",attrs:{variant:"light",disabled:!e.canSave},on:{click:e.saveMarkdown}},[e._v("Save")]),i("b-link",{attrs:{href:"https://github.com/patarapolw/reveal-md"}},[i("img",{attrs:{src:n("387e")}})])],1)]),i("div",{staticClass:"editor",class:e.showPreview?"mobile"===e.$mq?"hidden":"w-50":"w-100"},[i("codemirror",{ref:"cm",staticClass:"codemirror",attrs:{options:e.cmOptions},on:{input:e.onCmCodeChange},model:{value:e.raw,callback:function(t){e.raw=t},expression:"raw"}})],1),i("iframe",{ref:"iframe",class:e.showPreview?"mobile"===e.$mq?"w-100":"w-50":"hidden",attrs:{src:e.iframeUrl,frameborder:"0"}}),e.dirTree?i("b-modal",{attrs:{title:e.dirTree.path,scrollable:""},model:{value:e.isChooseFile,callback:function(t){e.isChooseFile=t},expression:"isChooseFile"}},[i("treeview",{attrs:{items:e.dirTree.children},on:{filename:function(t){e.filename=t}}})],1):e._e()],1)},r=[],o=n("9ab4"),s=n("60a3"),l=n("85be"),d=n.n(l),c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",{staticClass:"treeview"},e._l(e.items,(function(t,i){return n("li",{key:i},[n("span",{staticClass:"treeview-header"},[t.children?n("span",{on:{click:function(t){return e.openItem(i)}}},[e.isOpen[i.toString()]?n("fontawesome",{attrs:{icon:"caret-down"}}):n("fontawesome",{attrs:{icon:"caret-right"}})],1):e._e()]),n("span",{staticClass:"treeview-body",class:"ext-"+t.extension,on:{click:function(n){return e.onItemClicked(t,i)}}},[e._v(e._s(t.name))]),t.children&&e.isOpen[i.toString()]?n("treeview",{attrs:{items:t.children},on:{filename:function(t){e.filename=t}}}):e._e()],1)})),0)},h=[];let m=class extends s["d"]{constructor(){super(...arguments),this.isOpen={},this.filename=""}openItem(e){this.$set(this.isOpen,e.toString(),!this.isOpen[e.toString()])}onItemClicked(e,t){"directory"===e.type?this.openItem(t):"md"===e.extension&&(this.filename=e.path)}emitFilename(){return this.filename}};o["a"]([Object(s["c"])()],m.prototype,"items",void 0),o["a"]([Object(s["e"])("filename"),Object(s["b"])("filename")],m.prototype,"emitFilename",null),m=o["a"]([Object(s["a"])({name:"treeview"})],m);var u=m,p=u,f=(n("c3ba"),n("2877")),b=Object(f["a"])(p,c,h,!1,null,null,null),w=b.exports;let v=class extends s["d"]{constructor(){super(...arguments),this.cmOptions={mode:{name:"yaml-frontmatter",base:"markdown"}},this.raw="---\n# Yaml front matter is allowed.\ntitle: reveal-md\ntheme: solarized  # try solarized, serif or white\n---\n// global\n```pug\nstyle.\n  h1, h2, h3, h4, h5, h6 {\n    text-transform: uppercase !important;\n  }\n  \n  p, li {\n    font-size: 2rem;\n  }\n  \n  code {\n    color: red;\n  }\n```\n===\n\n# Reveal-MD\n\nReveal.js x Markdown (Showdown.js) editor and CLI.\n\n--\n\n- Customizable by editing [/src/reveal.ts](/src/reveal.ts), and add your Showdown / HyperPug plugins here. You might use <https://github.com/patarapolw/indented-filter> to create plugins.\n\n--\n\n- Global scripting `<script><\/script>` and styling `<style></style>` is also supported in slides marked with\n\n```markdown\n// global\ncontent (Pug or HTML or extended Markdown)\n```\n\n- The slides marked with `// global` or `// hidden` will be hidden.\n\n--\n\nHTML is also supported\n\n--\n```html\n<small>Small character</small>\n```\n\n===\n\n## Installation\n\n```\ngit init\ngit submodule add https://github.com/patarapolw/reveal-md.git\nnpm i ./reveal-md\n```\n\n--\n\nOr simply (but you won't be able to edit it.)\n\n```\nnpm i https://github.com/patarapolw/reveal-md.git\n```\n\n===\n\n## Usage\n\n```\nreveal-md [options] <filename>\n\nRead file in reveal-md\n\nPositionals:\n  filename  Path to the file to read\n\nOptions:\n  --version    Show version number                                     [boolean]\n  --edit, -e   Edit the file in editor                                 [boolean]\n  --media, -m  Path to media folder                                     [string]\n  --no-media   No media should be loaded                               [boolean]\n  --help       Show help                                               [boolean]\n```\n\n===\n\n## Adding media to reveal-md\n\nBy default, media can be put in the folder `media/` alongside the `*.md` file. The media can be referenced using the URL `/media/<FILENAME>`. Can be disabled using `--no-media` flag.\n\n===\n\n## Adding plugins to reveal-md\n\nAlso `plugin/` folder alongside `*.md` file will be loaded. Can be disabled using `--no-plugin` flag. For example, see <https://github.com/patarapolw/flatsrs>\n\n===\n\n## Save as HTML (and associated assets folder)\n\nThis is best done by [downloading complete web page, in associated web browser](https://www.makeuseof.com/tag/save-complete-webpage-offline-reading/).\n\nUsing web crawlers, like <https://github.com/website-scraper/node-website-scraper> won't work, because some JavaScript in Reveal.js is dynamically injected.\n\n===\n\n## Online viewer\n\nYou can do it at <https://patarapolw.github.io/reveal-md/reveal.html?q=\\<YOUR_URL_HERE>>\n\n===\n\n## Duplicated projects\n\n- Sorry, I have created duplicates at \n  - <https://github.com/patarapolw/reveal-editor>\n  - <https://github.com/patarapolw/reveal-md-server>\n\n===\n\n## Contributions\n\n- Please send suggestions at <https://github.com/patarapolw/reveal-md/issues>\n",this.markdown="",this.line=0,this.offset=0,this.showPreview="mobile"!==this.$mq,this.headers={},this.title="",this.isChooseFile=!1,this.filename="",this.dirTree=null,this.canSave=!1}get codemirror(){return this.$refs.cm.codemirror}get iframe(){return this.$refs.iframe}get iframeWindow(){return this.iframe.contentWindow}get iframeUrl(){if(this.filename){const e=new URL("/reveal.html",location.origin);return e.searchParams.set("filename",this.filename),e.href}return"reveal.html"}onIFrameReady(e){const t=()=>{this.iframeWindow.revealMd.onReady(()=>{e()})};this.iframe&&this.iframe.contentDocument&&(this.iframeWindow.revealMd?t():this.iframeWindow.onload=t)}created(){const e=new URL(location.href).searchParams.get("q");e&&fetch(e).then(e=>e.text()).then(e=>{this.raw=e})}mounted(){this.codemirror.addKeyMap({"Cmd-P":()=>{this.showPreview=!this.showPreview},"Ctrl-P":()=>{this.showPreview=!this.showPreview},"Cmd-S":()=>{this.saveMarkdown()},"Ctrl-S":()=>{this.saveMarkdown()}}),this.codemirror.on("cursorActivity",e=>{this.line=e.getCursor().line-this.offset}),this.onCmCodeChange()}openFile(e){this.isChooseFile=!1,this.filename=e,document.getElementsByTagName("title")[0].innerText=e.split("/").pop();const t=new URL("/api/data",location.origin);t.searchParams.set("filename",e),fetch(t.href).then(e=>e.text()).then(e=>{this.raw=e}).catch(e=>console.error(e))}onCmCodeChange(){try{const e=d()(this.raw);s["d"].set(this,"headers",e.data),this.markdown=e.content,this.offset=this.raw.replace(e.content,"").split("\n").length-1}catch(t){this.markdown=this.raw,this.offset=0}this.title=this.headers.title||"";const e=document.getElementsByTagName("title")[0];this.title&&e&&(e.innerText=`Editing: ${this.title}`),this.filename&&this.raw&&(this.canSave=!0),this.onIFrameReady(()=>{this.iframeWindow.revealMd.update(this.raw)})}onCursorMove(){if(this.line<0)return;let e=0,t=0,n=0,i=0,a=!1;this.markdown.split(/\r?\n===\r?\n/g).map((r,o)=>{a=!1,n<=this.line&&(e=o),r.split(/\r?\n--\r?\n/).map((e,i)=>{n<=this.line&&(t=i),n+=e.split("\n").length+1}),["// hidden","// global"].includes(r.split("\n")[0])&&(i++,a=!0)}),e-=i,!a&&e>=0&&this.iframeWindow.Reveal.slide(e,t)}saveMarkdown(){this.filename&&fetch("/api/data",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({filename:this.filename,content:this.raw})}).then(e=>{201===e.status?this.canSave=!1:this.$bvModal.msgBoxOk(`Cannot save: ${e.statusText}`)})}};o["a"]([Object(s["e"])("filename")],v.prototype,"openFile",null),o["a"]([Object(s["e"])("line")],v.prototype,"onCursorMove",null),v=o["a"]([Object(s["a"])({components:{Treeview:w}})],v);var g=v,y=g,C=(n("5c0b"),Object(f["a"])(y,a,r,!1,null,null,null)),k=C.exports,O=n("5f5b");n("ab8b"),n("2dd8");i["default"].use(O["a"]);var P=n("8f94"),x=n.n(P);n("a7be"),n("959b"),n("ced0"),n("d202"),n("5bef"),n("7b00"),n("f9d4"),n("10b2"),n("7289"),n("4895"),n("cbc8"),n("aedd"),n("8d70"),n("164b"),n("9f09"),n("697e"),n("d2d5"),n("7a7a");i["default"].use(x.a,{options:{theme:"monokai",lineNumbers:!0,autoCloseBrackets:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"],lineWrapping:!0,tabSize:2,extraKeys:{"Cmd-/":"toggleComment","Ctrl-/":"toggleComment",Tab:e=>{const t=Array(e.getOption("indentUnit")+1).join(" ");e.getDoc().replaceSelection(t)}},foldGutter:!0,scrollPastEnd:!0}});var S=n("660e");i["default"].use(S["a"],{breakpoints:{mobile:800,desktop:1/0},defaultBreakpoint:"desktop"});var j=n("ecee"),M=n("c074"),T=n("ad3d");j["c"].add(M["a"],M["b"]),i["default"].component("fontawesome",T["a"]),i["default"].config.productionTip=!1,new i["default"]({render:e=>e(k)}).$mount("#app")},dfb8:function(e,t,n){}});
//# sourceMappingURL=index.aa6f7202.js.map